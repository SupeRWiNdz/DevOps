- name: Check current directory structure
  find:
    paths: "{{ project_root }}"
    patterns: "docker-compose.yml"
    file_type: file
  register: compose_files

- name: Debug found compose files
  debug:
    var: compose_files.files

- name: Start containers with compose
  community.docker.docker_compose_v2:
    project_src: "{{ project_root }}/DevOps"
    state: present
  when: compose_files.files | length > 0

- name: Alternative start method if compose not found
  shell: |
    cd {{ project_root }}/DevOps && docker-compose up -d
  when: compose_files.files | length > 0